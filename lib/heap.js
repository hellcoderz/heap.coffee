(function(a){var b=new function(){function a(b){return a[b]}a["heap/heap"]=new function(){var a=this;(function(){var b,c;b=1048576,c=new ArrayBuffer(b),a.I8=new Int8Array(c),a.U8=new Uint8Array(c),a.I16=new Int16Array(c),a.U16=new Uint16Array(c),a.I32=new Int32Array(c),a.U32=new Uint32Array(c),a.F32=new Float32Array(c),a.F64=new Float64Array(c),a.U32[0]=8,a.U32[1]=b}).call(this)},a["heap/malloc"]=new function(){var b=this;(function(){var c,d,e,f,g,h=a("heap/heap");e=0,f=function(a){var b,c,d,f=h.U32;b=(a+8-1)/8+1>>>0,(d=e)||(d=e=f[0]>>2,f[0]+=8,f[e]=e,f[e+1]=0),c=f[d];for(;;){if(f[c+1]>=b)return f[c+1]===b?f[d]=f[c]:(f[c+1]-=b,c+=f[c+1]<<1,f[c+1]=b),e=d,c+2;if(c===e&&!(c=g(b)))return 0;d=c,c=f[c]}return 0},c=1024,g=function(a){var b,f,g,i=h.U32;return g=h.U8,a<c&&(a=c>>>0),b=a*8,i[0]+b>=g.length?0:(f=i[0]>>2,i[f+1]=a,i[0]+=b,d(f+2<<2),e)},d=function(a){var b,c,d=h.U32;b=(a>>2)-2,c=e;while(!(b>c&&b<d[c])){if(c>=d[c]&&(b>c||b<d[c]))break;c=d[c]}b+(d[b+1]<<1)===d[c]?(d[b+1]+=d[d[c]+1],d[b]=d[d[c]]):d[b]=d[c],c+(d[c+1]<<1)===b?(d[c+1]+=d[b+1],d[c]=d[b]):d[c]=b,e=c},b.malloc=f,b.free=d}).call(this)},this.heap=a["heap/heap"],this.malloc=a["heap/malloc"]};typeof define=="function"&&define.amd?define(function(){return b}):a.Heap=b})(this)